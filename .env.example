# =============================================================================
# ZCC RTMS Zoom App - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# =============================================================================

# -----------------------------------------------------------------------------
# Zoom App Credentials (Required - from Zoom Marketplace)
# -----------------------------------------------------------------------------
ZOOM_APP_CLIENT_ID=your_client_id_here
ZOOM_APP_CLIENT_SECRET=your_client_secret_here
ZOOM_SECRET_TOKEN=your_webhook_secret_token_here

# -----------------------------------------------------------------------------
# Zoom Configuration
# -----------------------------------------------------------------------------
ZOOM_HOST=https://zoom.us

# -----------------------------------------------------------------------------
# Server Ports
# -----------------------------------------------------------------------------
PORT=3000
BACKEND_PORT=3001
RTMS_PORT=3002

# -----------------------------------------------------------------------------
# Environment
# -----------------------------------------------------------------------------
NODE_ENV=development

# -----------------------------------------------------------------------------
# URLs Configuration
# -----------------------------------------------------------------------------
# Public URL - Backend entry point (update this when using ngrok)
PUBLIC_URL=http://localhost:3001

# Frontend URL - Where OAuth redirects after success (should match PUBLIC_URL)
# Backend proxies all requests to frontend, so this should be the backend URL
FRONTEND_URL=http://localhost:3001

# Frontend Internal URL (Docker service name - internal only)
FRONTEND_INTERNAL_URL=http://frontend:3000

# RTMS server URL (Docker service name - internal only)
RTMS_SERVER_URL=http://rtms:8080

# OAuth redirect URL (update this when using ngrok, must match Zoom Marketplace)
ZOOM_REDIRECT_URL=http://localhost:3001/api/auth/callback

# Frontend backend URL
REACT_APP_BACKEND_URL=http://localhost:3001
REACT_APP_ZOOM_CLIENT_ID=your_client_id_here

# -----------------------------------------------------------------------------
# Session Configuration
# -----------------------------------------------------------------------------
SESSION_SECRET=your_random_session_secret_change_in_production

# =============================================================================
# NGROK SETUP (For Production/Testing with Zoom)
# =============================================================================
# 1. Start ngrok: npm run ngrok
# 2. Copy the HTTPS URL (e.g., https://abc123.ngrok-free.app)
# 3. Update these THREE variables with the ngrok URL:
#    PUBLIC_URL=https://abc123.ngrok-free.app
#    FRONTEND_URL=https://abc123.ngrok-free.app
#    ZOOM_REDIRECT_URL=https://abc123.ngrok-free.app/api/auth/callback
# 4. Keep FRONTEND_INTERNAL_URL and RTMS_SERVER_URL unchanged (Docker internal)
# 5. Update Zoom Marketplace with:
#    - Home URL: https://abc123.ngrok-free.app
#    - Redirect URL: https://abc123.ngrok-free.app/api/auth/callback
#    - Event notification URL: https://abc123.ngrok-free.app/api/webhooks/zoom
# 6. Restart containers: npm restart
# =============================================================================
